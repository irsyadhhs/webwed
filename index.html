<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Icad & Nita</title>
    <link rel="shortcut icon" type="image/jpg" href="./assets/favicons/favicon-32x32.png"/>
    <link href="./assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="./index.css" rel="stylesheet">
    <script src="https://kit.fontawesome.com/44d56deb44.js" crossorigin="anonymous"></script>
</head>
<body>
    <div id="loading">
        <h4>Yth, tamu undangan.</h4>
        <img id="loading-image" src="./assets/img/loading.gif" alt="Loading..." />
    </div>
    <div class="container-fluid">
        <nav class="navbar bg-light navbar-expand fixed-bottom">
            <ul class="navbar-nav nav-justified w-100">
              <li class="nav-item">
                <a href="#section-top" class="nav-link"><i class="fas fa-home text-secondary"></i></a>
              </li>
              <li class="nav-item">
                <a href="#section-mempelai" class="nav-link">
                    <i class="fas fa-user-friends text-secondary"></i>
                </a>
              </li>
              <li class="nav-item">
                <a href="#section-location" class="nav-link"><i class="fas fa-map-marker-alt text-secondary"></i></a>
              </li>
              <li class="nav-item">
                <a href="#" class="nav-link"><i id="play-pause-button" class="fas fa-play text-secondary"></i></a>
              </li>
            </ul>
        </nav>
        <div class="hero" id="section-top">
            <div class="row g-0">
                <div class="col d-none-animate" id="hero-man">
                    <img src="./assets/img/hero-icad.jpg" class="hero-img"/>
                </div>
                <div class="col d-none-animate" id="hero-woman">
                    <img src="./assets/img/hero-anita.JPG" class="hero-img"/>
                </div>
                <p class="hero-title">t h e &nbsp&nbsp&nbsp w e d d i n g &nbsp&nbsp&nbsp o f</p>
                <p class="hero-title-man">Irsyad</p>
                <p class="hero-title-woman">&Anita</p>
            </div>
        </div>
        <div class="datetime-container">
            <p id="headline" class="title-section">~Save the date!~</p>
            <div id="countdown">
              <dic class="row">
                <div class="col-3"><span id="days"></span>Days</div>
                <div class="col-3"><span id="hours"></span>Hours</div>
                <div class="col-3"><span id="minutes"></span>Minutes</div>
                <div class="col-3"><span id="seconds"></span>Seconds</div>
              </dic>
            </div>
        </div>
        <div class="greeting-container" id="section-mempelai">
            <div class="greeting-headline">
                <img src="./assets/img/flower.png" class="flower"/>
                <p class="title-section my-2">~Mempelai~</p>
                <div class="p-5 m-5">
                    <p>Assalamu`alaikum Warahmatullaahi Wabarakaatuh</p>
                    <p>Bismillahirohmanirohim</p>
                    <p class="mt-2">Kami memohon doa restu untuk kelancaran acara pernikahan kami. Semoga ridho Allah tercurah mengiringi berjalannnya pernikahan kami.</p>
                    <small class="text-secondary">Mengingat situasi dan kondisi pandemi saat ini, acara pernikahan kami akan dilangsungkan dengan protokol kesehatan yang ketat. Para tamu diimbau untuk menggunakan masker dan dapat membawa pulang hidangan yang disajikan. Terima kasih.</small>
                    <br><br>
                    <a target="_blank" href="https://zoom.us/j/92681893047?pwd=RnY5WXNTUGRVVjJrY0QvcTd4eWpJQT09">
                        <button class="btn btn-outline-dark mt-3" style="border-radius: 25px;"><i class="fas fa-video me-3"></i>Join Live Zoom</button>
                    </a>
                </div>
                
            </div>
            <div class="row">
                <div class="col-sm-12 col-md-12 col-lg-5 col-xl-5 text-center">
                    <img src="./assets/img/greeting-icad.JPG" class="greeting-img"/>
                    <div class="p-2">
                        <p class="greeting-name">Irsyad Harfiansyah Shodiq</p>
                        <div class="text-secondary p-2">
                            <hr/>
                            <h6 class="greeting-detail">
                                Putra ketiga dari Bapak Sakiman dan Ibu Muryanti (almh). Lahir dan hidup di Bandung, 
                                bertemu dengan mempelai wanita saat berkuliah di Universitas Pendidikan Indonesia
                            </h6>
                        </div>
                    </div>
                </div>
                <div class="col-sm-12 col-md-12 col-lg-2 col-xl-2 text-center align-self-center">
                    <i class="fa fa-4x fa-plus"></i>
                </div>
                <div class="col-sm-12 col-md-12 col-lg-5 col-xl-5 text-center">
                    <img src="./assets/img/greeting-anita.jpg" class="greeting-img"/>
                    <div class="p-2">
                        <p class="greeting-name">Anita Dyah Pertiwi</p>
                        <div class="text-secondary p-2">
                            <hr/>
                            <h6 class="greeting-detail">
                                Putri ketiga dari Bapak Andang (alm) dan Ibu Yeni. Lahir dan hidup di Garut, 
                                bertemu dengan mempelai pria saat berkuliah di Universitas Pendidikan Indonesia
                            </h6>
                        </div>
                    </div>
                </div>
                <div class="greeting-headline">
                    <img src="./assets/img/flower.png" class="flower" style="transform: rotate(180deg);"/>
                </div>
                <div class="col-lg-3">

                </div>
                <div class="col-lg-6 text-center my-5 p-4" style="opacity: 0.7;">
                    <p class="greeting-detail text-secondary">
                        “Dan di antara tanda-tanda kekuasaan-Nya ialah Dia menciptakan untukmu istri-istri dari jenismu sendiri, supaya kamu cenderung dan merasa tentram kepadanya, dan dijadikan-Nya di antaramu rasa kasih dan sayang. Sesungguhnya pada yang demikian itu benar-benar terdapat tanda-tanda bagi kaum yang berpikir.”
                    </p>
                    <p>QS. Ar-Rum : 21</p>
                </div>
                <div class="col-lg-3">
                    
                </div>
            </div>
        </div>
        <div class="row" style="padding-left: 12px; padding-right: 12px;" id="section-location">
            <div class="col-12 text-center location-container">
                <img src="./assets/img/flower.png" class="flower"/>
                <p class="title-section">~Waktu dan Lokasi Acara~</p>
            </div>
            <div class="col-sm-12 col-md-12 col-lg-6 col-xl-6 location-detail-container">
                <h5 class="location-detail-item"><i class="fas fa-calendar me-3"></i>Sabtu, 7 Agustus 2021 </h5>
                <h5 class="location-detail-item"><i class="fas fa-clock me-3"></i>08.30 - 10.30 (akad) | 11.30 - 14.30 (syukuran sesi 2) </h5>
                <h5 class="location-detail-item"><i class="fas fa-home me-3"></i>Gedung Musadaddiyah </h5>
                <h5 class="location-detail-item"><i class="fas fa-map-marker-alt me-3"></i>7 Jl. Mayor Syamsu No.02 A, Jayaraga, Kec. Tarogong Kidul, Kabupaten Garut, Jawa Barat 44151 </h5>
                <div class="d-lg-flex d-xl-flex d-sm-block d-md-block justify-content-lg-center justify-content-md-center text-center">
                    <a target="_blank" href="https://www.google.com/calendar/render?action=TEMPLATE&text=Pernikahan+Anita+Irsyad&dates=20210807T013000Z/20210807T033000Z">
                        <button class="btn btn-outline-dark mt-3 me-lg-3 me-xl-3" style="border-radius: 25px;"><i class="fas fa-calendar-check me-3"></i>Simpan ke Kalender</button>
                    </a>
                    <a href="https://maps.google.com/maps?q=yayasan%20musadaddiyah" target="_blank">
                        <button class="btn btn-outline-dark mt-3" style="border-radius: 25px;"><i class="fas fa-map me-3"></i>Buka Google Maps</button>
                    </a>
                </div>
            </div>
            <div class="col-sm-12 col-md-12 col-lg-6 col-xl-6 map-container g-0">
                <div class="mapouter">
                    <div class="gmap_canvas">
                        <iframe width="100%" height="500" id="gmap_canvas" src="https://maps.google.com/maps?q=yayasan%20musadaddiyah&t=&z=17&ie=UTF8&iwloc=&output=embed" frameborder="0" scrolling="no" marginheight="0" marginwidth="0"></iframe><a href="https://putlocker-is.org"></a><br>
                        <a href="https://www.embedgooglemap.net"></a>
                    </div>
                </div>
            </div>
        </div>
        <div class="row comments">
            <div class="greeting-headline">
                <img src="./assets/img/flower.png" class="flower" style="transform: rotate(180deg);"/>
            </div>
            <div class="col-xl-6 col-lg-6 p-5">
                <h4>Ucapan, Salam dan Doa</h4>
                <p>Semua ucapan & doa dari rekan terkasih semua sangatlah berarti bagi kami.</p>
                <small class="badge bg-danger mb-3 d-none-animate" id="alert-comment">Mohon lengkapi semua field</small>
                <form>
                    <div class="form-group mb-4">
                        <label for="form-name">Nama Anda<sup class="text-danger">*</sup></label>
                        <input type="text" class="form-control" id="form-name" required/>
                    </div>
                    <div class="form-group mb-4">
                        <label for="form-name">Email Anda<sup class="text-danger">*</sup><small>(tidak akan ditampilkan)</small></label>
                        <input type="email" class="form-control" id="form-email" required/>
                    </div>
                    <div class="form-group mb-4">
                        <label for="form-name">Nomor Handphone Anda<sup class="text-danger">*</sup><small>(tidak akan ditampilkan)</small></label>
                        <input type="number" class="form-control" id="form-phone" required/>
                    </div>
                    <div class="form-group mb-4">
                        <label for="form-name">Ucapan dan Doa<sup class="text-danger">*</sup></label>
                        <textarea class="form-control" id="form-comment" value="">
                        </textarea>
                    </div>
                    <div class="d-flex justify-content-between flex-wrap">
                        <button type="button" class="btn btn-warning mt-2" id="btn-greeting">Kirim</button>
                        <button type="button" class="btn btn-outline-dark mt-2" id="btn-view-greeting" data-bs-toggle="modal" data-bs-target="#view-comments">Lihat Semua Ucapan</button>                    
                    </div>
                </form>
            </div>
            <div class="col-xl-6 col-lg-6 text-center">
                <h4 class="mb-3">Amplop Online</h4>
                <img src="./assets/img/gopay.jpg" class="my-auto" id="amplop-online"/>
                <p class="mt-3">Scan QR di aplikasi Gojek</p>
            </div>
        </div>
        <div class="text-center p-5">
            <h4 class="title-section">Our Gallery</h4>
        </div>
        <div class="gallery-row"> 
            <div class="column">
                <img src="./assets/img/retouch/1.jpg" class="w-100">
                <img src="./assets/img/retouch/2.jpg" class="w-100">
                <img src="./assets/img/retouch/6.jpg" class="w-100">
                <img src="./assets/img/retouch/3.jpg" class="w-100">
                
            </div>
            <div class="column">
                <img src="./assets/img/retouch/5.jpg" class="w-100">
                <img src="./assets/img/retouch/7.jpg" class="w-100">
                <img src="./assets/img/retouch/8.jpg" class="w-100">
                <img src="./assets/img/retouch/9.jpg" class="w-100">
                <img src="./assets/img/retouch/14.jpg" class="w-100">
                <img src="./assets/img/retouch/4.jpg" class="w-100">
            </div>  
            <div class="column">
                <img src="./assets/img/retouch/10.jpg" class="w-100">
                <img src="./assets/img/retouch/11.JPG" class="w-100">
                <img src="./assets/img/retouch/12.jpg" class="w-100">
                <img src="./assets/img/retouch/13.JPG" class="w-100">
            </div>
            <div class="column">
                <img src="./assets/img/retouch/15.jpg" class="w-100">
                <img src="./assets/img/retouch/16.jpg" class="w-100">
                <img src="./assets/img/retouch/17.jpg" class="w-100">
                <img src="./assets/img/retouch/18.jpg" class="w-100">
            </div>
        </div>
        <div class="greeting-headline">
            <img src="./assets/img/flower.png" class="flower" style="transform: rotate(180deg);"/>
            <p>Terima kasih atas waktu dan perhatiannya. Sampai jumpa pada acara pernikahan kami!</p>
            <b>Wassalamualaikum warrohmatullohi wabarokatuh</b>
        </div>
    </div>
    <!-- Scrollable modal -->
    <div class="modal fade" id="view-comments" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Ucapan & Doa</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                  <p class="d-block-animate" id="comment-loading">Loading comments...</p>
                  <ul class="list-group d-none-animate" id="list-comments">

                  </ul>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Tutup</button>
              </div>
            </div>
          </div>
    </div>
</body>
<footer>
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-firestore.js"></script>
    <script type="text/javascript" src="./assets/vendor/bootstrap/js/bootstrap.min.js"></script>
    <script src="./assets/vendor/moment.js"></script>

    <script type="text/javascript">
        var firebaseConfig = {
            apiKey: "AIzaSyAqebqMK-bGQ8uy0UhOTHZjhCWPD8Rp1jU",
            authDomain: "wedweb-2c2b4.firebaseapp.com",
            projectId: "wedweb-2c2b4",
            storageBucket: "wedweb-2c2b4.appspot.com",
            messagingSenderId: "800044208307",
            appId: "1:800044208307:web:83461c1ad2b666199520c6"
        };
        
        firebase.initializeApp(firebaseConfig);
        var db = firebase.firestore();

       (function () {
           document.querySelector('#loading').style.display = 'none'
           function clearFields(){
                document.querySelector('#form-name').value = ''
                document.querySelector('#form-phone').value = ''
                document.querySelector('#form-email').value = ''
                document.querySelector('#form-comment').value = ''
           }
            document.querySelector('#hero-man').classList.replace('d-none-animate', 'd-block-animate-man');
            document.querySelector('#hero-woman').classList.replace('d-none-animate', 'd-block-animate-woman');

            let audio = new Audio("./assets/music/adele.m4a");
            let mediaBtn = document.querySelector('#play-pause-button');
            const btnGreeting = document.querySelector('#btn-greeting')

            document.querySelector('#view-comments').addEventListener('hidden.bs.modal', function(event){
                const container = document.querySelector('#list-comments')
                container.innerHTML = ""
                container.classList.replace('d-block-animate', 'd-none-animate')
                document.querySelector('#comment-loading').classList.replace('d-none-animate', 'd-block-animate')
            })

            document.querySelector('#view-comments').addEventListener('shown.bs.modal', function (event) {
                const container = document.querySelector('#list-comments')

                db.collection("comments").orderBy('date').get().then((querySnapshot) => {
                    querySnapshot.forEach((doc) => {
                        const elName = document.createElement('h6')
                        const elComment = document.createElement('p')
                        elComment.classList = 'mt-1'

                        const elContain = document.createElement('div')
                        elContain.classList = 'd-flex flex-wrap'

                        const elDate = document.createElement('small')
                        elDate.classList = 'ms-2'

                        const listItem = document.createElement('li')
                        listItem.classList = 'list-group-item'

                        const textName = document.createTextNode(doc.data().name);
                        const textComment = document.createTextNode(doc.data().msg);
                        const textDate = document.createTextNode(doc.data().date);
                        elName.appendChild(textName)
                        elComment.appendChild(textComment)
                        elDate.appendChild(textDate);
                        elContain.appendChild(elName)
                        elContain.appendChild(elDate)
                        listItem.appendChild(elContain)
                        listItem.appendChild(elComment)
                        container.appendChild(listItem)
                    });
                    document.querySelector('#comment-loading').classList.replace('d-block-animate', 'd-none-animate')
                    container.classList.replace('d-none-animate', 'd-block-animate')
                });
            })
            
            btnGreeting.addEventListener('click', ()=>{
                const name = document.querySelector('#form-name').value
                const phone = document.querySelector('#form-phone').value
                const email = document.querySelector('#form-email').value
                const comment = document.querySelector('#form-comment').value
                const alert = document.querySelector('#alert-comment')
                if(name === '' || phone === '' || email === '' || comment === ''){
                    alert.classList.replace('d-none-animate', 'd-block-animate')
                }else{
                    alert.classList.replace('d-block-animate', 'd-none-animate')
                    btnGreeting.disabled = true
                    btnGreeting.innerHTML =
                        '<span class="load_save spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>Mengirim...'
                    
                    db.collection("comments").add({
                        name,
                        phone,
                        email,
                        msg: comment,
                        date: moment().format('lll')
                    })
                    .then((docRef) => {
                        alert.classList.replace('d-none-animate', 'd-block-animate')
                        alert.classList.replace('bg-danger', 'bg-success')
                        alert.innerHTML = "Terima kasih atas ucapan dan doanya!"
                        console.log("Document written with ID: ", docRef.id);
                        btnGreeting.innerHTML = 'Berhasil Terkirim! :)';
                        clearFields()
                    })
                    .catch((error) => {
                        console.error("Error adding document: ", error);
                        btnGreeting.innerHTML = 'Gagal Mengirim :(';
                        clearFields()
                    });
                }
                
            })
            mediaBtn.addEventListener('click', ()=>{
                if(mediaBtn.classList.contains('fa-play'))
                {
                    mediaBtn.classList.remove('fa-play');
                    mediaBtn.classList.add('fa-pause');
                    audio.play();
                }
                else
                {
                    mediaBtn.classList.remove('fa-pause');
                    mediaBtn.classList.add('fa-play');
                    audio.pause();
                }
            });

            audio.onended = function() {
                mediaBtn.classList.remove('fa-pause');
                mediaBtn.classList.add('fa-play');
            };
            
            document.querySelector("#play-pause-button").click();

            const second = 1000,
                    minute = second * 60,
                    hour = minute * 60,
                    day = hour * 24;

            let birthday = "Aug 7, 2021 08:30:00",
                countDown = new Date(birthday).getTime(),
                x = setInterval(function() {    

                    let now = new Date().getTime(),
                        distance = countDown - now;

                    document.getElementById("days").innerText = Math.floor(distance / (day)),
                    document.getElementById("hours").innerText = Math.floor((distance % (day)) / (hour)),
                    document.getElementById("minutes").innerText = Math.floor((distance % (hour)) / (minute)),
                    document.getElementById("seconds").innerText = Math.floor((distance % (minute)) / second);

                    //do something later when date is reached
                    if (distance < 0) {
                        let headline = document.getElementById("headline"),
                            countdown = document.getElementById("countdown"),
                            content = document.getElementById("content");

                        headline.innerText = "We are married!";
                        countdown.style.display = "none";
                        content.style.display = "block";

                        clearInterval(x);
                    }
                    //seconds
                }, 0)
        }());
    </script>
</footer>
</html>